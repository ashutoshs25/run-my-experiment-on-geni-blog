This experiment introduces [ B.A.T.M.A.N. ](https://www.open-mesh.org/projects/batman-adv/wiki/Wiki), a (dynamic) routing protocol for multi-hop ad-hoc mesh networks. The goal of this experiment is to explore how routes of paths on a wireless mesh network are changing over time. We will use a certain network topology with BATMAN protocol running on its nodes.

It should take about 60 minutes to run this experiment, but you will need to have [reserved](http://geni.orbit-lab.org) this time in advance. The experiment uses wireless resources (specifically, nodes of the grid testbed on [ORBIT](http://geni.orbit-lab.org)), and you can only use wireless resources on GENI during a reservation.

In order to reproduce this experiment on GENI, you will need an account on the [GENI Portal](http://groups.geni.net/geni/wiki/SignMeUp), and you will need to have joined a project. You should have already [uploaded your SSH keys to the portal](http://groups.geni.net/geni/wiki/HowTo/LoginToNodes). The project lead of the project you belong to must have [enabled wireless for the project](https://portal.geni.net/secure/wimax-enable.php). Finally, you must have [reserved time on the grid testbed at ORBIT](http://geni.orbit-lab.org) at ORBIT, and you must run this experiment during your reserved time.


##Background

[BATMAN](https://www.open-mesh.org/projects/open-mesh/wiki/BATMANConcept) is a proactive link-state based routing protocol and it can be used as an alternative to OLSR routing protocol. [BATMAN](https://www.open-mesh.org/projects/open-mesh/wiki/2016-09-01-batman-adv-2016-3-release) aims to offer a Better Approach To Mobile Adhoc Networking and is designed for lossy and unstructured multi-hop mesh networks. 
BATMAN nodes don’t have to calculate the whole routes for their outgoing packets and they are not aware of the full topology of the mesh network. Each node decides which is the best of their neighboring nodes to forward their outgoing packets. Thus, the full route path of a packet is the combination of all intermediate nodes decisions, until it reaches its destination. 

In BATMAN, all nodes periodically broadcasts hello packets, also known as originator messages (OGM), to its neighbors. Each originator messages consists of an originator address, a sending node address and a unique sequence number. Each neighbor changes the sending address to its own address and re-broadcasts the message. The sequence number is used to check the currency of the message.

BATMAN does not maintain the full route to the destination, each node along the route only maintains the information about the next link through which it finds the [best route](https://www.open-mesh.org/projects/open-mesh/wiki/Routing_scenarios).
Not all routes are calculated, only the route to the next neighbour. So the complete topology is not known to any single node, topology and routing decisions are distributed between all the nodes. Each node estimates its best next hop link to the destination and not the whole route. Spreading this information reduces the "cost" on each node.

Each BATMAN node maintains an [originator table](https://www.open-mesh.org/projects/batman-adv/wiki/Understand-your-batman-adv-network) which lists the addresses of all other nodes in the network. An estimation metric (TQ) is used to evaluate the link transmit quality between an originator node (the node that originator table belongs to) and a destination node. Each address entry in the originator table is matched with a TQ metric. The value of TQ metric rank is defined on a scale between 0 and 255 (0 being connectless and 255 being excellent link quality). According to the originator table, the nodes determine the direction the packets are to be send, if data should be transmitted. The direction manifests itself in the form of the "best next neighbor”  which basically is the next step towards the destination. When a node is about to send an outgoing packet, it checks its originator table and forwards the packet towards the destination with the highest rank entry.


##Results

In this experiment we show how link quality is estimated and how routes are formed depending on the link quality ranks (TQ). The topology that we are going to use is the following.

![Topology](/blog/content/images/2016/10/topology.png)

First we see how link ranks are formed and which link route is chosen at that time.

Script output:

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.988s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.992s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.972s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.964s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.976s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.972s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.960s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.972s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.960s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.004s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.004s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.012s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.008s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.024s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.024s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.040s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.028s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.028s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)
```

Then, we introduce some failures in the chosen link (node20-10) and see how the link rank drops over time and how the route is switching between the two links.

![Declining20-10](/blog/content/images/2016/10/Declining20-10.png)

Script output:

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.776s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (189)    
00:60:b3:25:c0:1b    0.776s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (188)    
00:60:b3:25:c0:1b    0.780s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (190)
00:60:b3:25:c0:1b    0.780s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.772s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.784s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.812s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.828s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (186)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    1.836s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (186)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.840s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (184)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.856s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (182)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.876s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (181)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.864s           (192)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (181)    00:15:6d:84:fb:77    (192)    
00:60:b3:25:c0:1b    0.892s           (193)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (180)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.908s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (179)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.924s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (177)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.936s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (173)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.924s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (171)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.924s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (171)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.936s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (171)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.952s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (172)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.964s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (172)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.956s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (170)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.000s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (165)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.024s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (164)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.016s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (163)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.012s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (160)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.016s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (159)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.020s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (155)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.040s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (151)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.064s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (151)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.056s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (150)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.068s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (148)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.052s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (146)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.048s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (146)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.048s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (141)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.044s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (139)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.044s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (136)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.052s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (133)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.072s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (133)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.096s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (131)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.112s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (130)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.124s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (130)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.108s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (127)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.116s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (119)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.132s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (118)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.160s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (114)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.144s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (114)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.172s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (112)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.168s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (110)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.188s           (193)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (107)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.208s           (192)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (105)    00:15:6d:84:fb:77    (192)    
00:60:b3:25:c0:1b    0.232s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (105)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.244s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (102)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.252s           (193)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (101)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.276s           (195)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (    99)    00:15:6d:84:fb:77    (195)
```

Next, we stop the failure script and see how the rank of the link recovers.

![Recovering20-10](/blog/content/images/2016/10/Recovering20-10.png)

Script output:

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.576s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (102)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.596s           (197)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (104)    00:15:6d:84:fb:77    (197)    
00:60:b3:25:c0:1b    0.612s           (195)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (107)    00:15:6d:84:fb:77    (195)    
00:60:b3:25:c0:1b    0.612s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (111)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.632s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (118)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.636s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (120)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.632s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (126)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.628s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (129)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    0.648s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (135)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.652s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (136)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.660s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (136)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.664s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (141)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.688s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (148)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.704s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (151)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.704s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (151)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.708s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (156)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.700s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (161)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.708s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (162)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.704s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (166)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.716s           (197)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (167)    00:15:6d:84:fb:77    (197)    
00:60:b3:25:c0:1b    0.724s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (170)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    0.724s           (195)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (171)    00:15:6d:84:fb:77    (195)    
00:60:b3:25:c0:1b    0.724s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (174)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.712s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (176)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.748s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (178)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.740s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (178)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.732s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (180)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.752s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (183)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.768s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (184)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.756s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (186)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.760s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (187)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.776s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.780s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.784s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.800s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.808s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.832s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (194)
00:60:b3:25:c0:1b    0.824s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.820s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (193)
00:60:b3:25:c0:1b    0.844s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (191)
```

When the link rank has recovered, we introduce failures to the other intermediate link (node14-10).

![Declining14-10](/blog/content/images/2016/10/Declining14-10.png)

Script output:

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.920s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    0.948s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    1.956s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    0.976s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (195)    
00:60:b3:25:c0:1b    0.956s           (196)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (196)    00:15:6d:84:fb:77    (195)    
00:60:b3:25:c0:1b    0.976s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.968s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.004s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.028s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (188)    
00:60:b3:25:c0:1b    0.040s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (189)    
00:60:b3:25:c0:1b    0.076s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (190)    
00:60:b3:25:c0:1b    0.068s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (188)    
00:60:b3:25:c0:1b    0.096s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (187)    
00:60:b3:25:c0:1b    0.088s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (186)    
00:60:b3:25:c0:1b    0.088s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (187)    
00:60:b3:25:c0:1b    0.088s           (187)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (187)    00:15:6d:84:fb:77    (185)    
00:60:b3:25:c0:1b    0.112s           (187)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (187)    00:15:6d:84:fb:77    (185)    
00:60:b3:25:c0:1b    0.152s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (182)    
00:60:b3:25:c0:1b    0.152s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (183)    
00:60:b3:25:c0:1b    0.184s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (180)    
00:60:b3:25:c0:1b    0.188s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (180)    
00:60:b3:25:c0:1b    0.192s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (176)    
00:60:b3:25:c0:1b    0.212s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (174)    
00:60:b3:25:c0:1b    0.232s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (172)    
00:60:b3:25:c0:1b    0.240s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (171)    
00:60:b3:25:c0:1b    0.252s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (170)    
00:60:b3:25:c0:1b    0.236s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (166)    
00:60:b3:25:c0:1b    0.252s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (166)    
00:60:b3:25:c0:1b    0.268s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (161)    
00:60:b3:25:c0:1b    0.264s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (162)    
00:60:b3:25:c0:1b    0.268s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (160)    
00:60:b3:25:c0:1b    0.300s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (158)    
00:60:b3:25:c0:1b    0.312s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (153)    
00:60:b3:25:c0:1b    0.288s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (153)    
00:60:b3:25:c0:1b    0.284s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (150)    
00:60:b3:25:c0:1b    0.272s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (150)    
00:60:b3:25:c0:1b    0.272s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (145)    
00:60:b3:25:c0:1b    0.300s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (145)    
00:60:b3:25:c0:1b    0.312s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (143)    
00:60:b3:25:c0:1b    0.320s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (142)    
00:60:b3:25:c0:1b    0.312s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (142)    
00:60:b3:25:c0:1b    0.332s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (137)    
00:60:b3:25:c0:1b    1.340s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (137)    
00:60:b3:25:c0:1b    0.340s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (133)    
00:60:b3:25:c0:1b    0.344s           (185)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (185)    00:15:6d:84:fb:77    (134)    
00:60:b3:25:c0:1b    0.356s           (185)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (185)    00:15:6d:84:fb:77    (134)    
00:60:b3:25:c0:1b    0.348s           (187)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (187)    00:15:6d:84:fb:77    (133)    
00:60:b3:25:c0:1b    0.360s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.368s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (130)    
00:60:b3:25:c0:1b    0.380s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.408s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.404s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.388s           (196)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (196)    00:15:6d:84:fb:77    (129)    
00:60:b3:25:c0:1b    0.416s           (197)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (197)    00:15:6d:84:fb:77    (129)    
00:60:b3:25:c0:1b    0.404s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (125)    
00:60:b3:25:c0:1b    0.396s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (125)    
00:60:b3:25:c0:1b    0.396s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (123)    
00:60:b3:25:c0:1b    0.388s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (122)    
00:60:b3:25:c0:1b    0.404s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (122)    
00:60:b3:25:c0:1b    0.400s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (122)    
00:60:b3:25:c0:1b    0.424s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (119)    
00:60:b3:25:c0:1b    0.436s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (119)    
00:60:b3:25:c0:1b    0.420s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (116)    
00:60:b3:25:c0:1b    0.452s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (116)    
00:60:b3:25:c0:1b    0.472s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (113)    
00:60:b3:25:c0:1b    0.492s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (111)    
00:60:b3:25:c0:1b    0.500s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (111)    
00:60:b3:25:c0:1b    0.512s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (108)    
00:60:b3:25:c0:1b    0.516s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (108)    
00:60:b3:25:c0:1b    0.540s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (104)    
00:60:b3:25:c0:1b    0.524s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.520s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.516s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.516s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.520s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.540s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (106)    
00:60:b3:25:c0:1b    0.540s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (106)    
00:60:b3:25:c0:1b    0.536s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (104)    
00:60:b3:25:c0:1b    0.528s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (104)    
00:60:b3:25:c0:1b    0.520s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (103)    
00:60:b3:25:c0:1b    0.508s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (102)    
00:60:b3:25:c0:1b    0.520s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (103)
```

Finally, we stop the failure script again and see how the rank of the other intermediate link recovers.

![Recovering14-10](/blog/content/images/2016/10/Recovering14-10.png)

Script output:

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.152s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (102)    
00:60:b3:25:c0:1b    0.160s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (102)   
00:60:b3:25:c0:1b    0.152s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (102)    
00:60:b3:25:c0:1b    0.172s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (103)    
00:60:b3:25:c0:1b    0.176s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (105)    
00:60:b3:25:c0:1b    0.180s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (106)    
00:60:b3:25:c0:1b    0.184s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (109)    
00:60:b3:25:c0:1b    0.184s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (111)    
00:60:b3:25:c0:1b    0.172s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (114)    
00:60:b3:25:c0:1b    0.168s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (116)    
00:60:b3:25:c0:1b    0.164s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (118)    
00:60:b3:25:c0:1b    0.160s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (117)    
00:60:b3:25:c0:1b    0.152s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (117)    
00:60:b3:25:c0:1b    0.168s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (119)    
00:60:b3:25:c0:1b    0.192s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (122)    
00:60:b3:25:c0:1b    0.216s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (125)    
00:60:b3:25:c0:1b    0.212s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.228s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (129)    
00:60:b3:25:c0:1b    0.220s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (130)    
00:60:b3:25:c0:1b    0.228s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (131)    
00:60:b3:25:c0:1b    0.232s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (133)    
00:60:b3:25:c0:1b    0.224s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (137)    
00:60:b3:25:c0:1b    0.240s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (143)    
00:60:b3:25:c0:1b    0.264s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (146)    
00:60:b3:25:c0:1b    0.288s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (148)    
00:60:b3:25:c0:1b    0.292s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (151)    
00:60:b3:25:c0:1b    0.304s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (153)    
00:60:b3:25:c0:1b    0.324s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (155)    
00:60:b3:25:c0:1b    0.340s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (156)    
00:60:b3:25:c0:1b    0.352s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (157)    
00:60:b3:25:c0:1b    0.340s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (158)    
00:60:b3:25:c0:1b    0.364s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (160)    
00:60:b3:25:c0:1b    0.368s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (161)    
00:60:b3:25:c0:1b    0.380s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (162)    
00:60:b3:25:c0:1b    0.400s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (163)    
00:60:b3:25:c0:1b    0.396s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (165)    
00:60:b3:25:c0:1b    0.400s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (165)    
00:60:b3:25:c0:1b    0.420s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (167)    
00:60:b3:25:c0:1b    0.440s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (169)    
00:60:b3:25:c0:1b    0.464s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (171)    
00:60:b3:25:c0:1b    0.484s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (172)    
00:60:b3:25:c0:1b    0.492s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (172)    
00:60:b3:25:c0:1b    0.512s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (174)    
00:60:b3:25:c0:1b    0.492s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (174)    
00:60:b3:25:c0:1b    0.488s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (176)    
00:60:b3:25:c0:1b    0.504s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (177)    
00:60:b3:25:c0:1b    0.508s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (177)    
00:60:b3:25:c0:1b    0.512s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (178)    
00:60:b3:25:c0:1b    0.528s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (178)    
00:60:b3:25:c0:1b    0.528s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (179)    
00:60:b3:25:c0:1b    0.532s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (180)    
00:60:b3:25:c0:1b    0.524s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (179)    
00:60:b3:25:c0:1b    0.512s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (178)    
00:60:b3:25:c0:1b    0.528s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (176)    
00:60:b3:25:c0:1b    0.512s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (177)    
00:60:b3:25:c0:1b    0.540s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (178)    
00:60:b3:25:c0:1b    0.544s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (184)    
00:60:b3:25:c0:1b    0.552s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (187)    
00:60:b3:25:c0:1b    0.564s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (187)    
00:60:b3:25:c0:1b    0.568s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (188)    
00:60:b3:25:c0:1b    0.584s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (189)    
00:60:b3:25:c0:1b    0.596s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (190)    
00:60:b3:25:c0:1b    0.604s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (190)    
00:60:b3:25:c0:1b    0.600s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.616s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (192)    
00:60:b3:25:c0:1b    0.636s           (193)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (193)
00:60:b3:25:c0:1b    0.624s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (194)
```

##Run my experiment

In order to run this experiment, we should have a reservation on ORBIT’s main grid. We will use 4 grid nodes for this experiment, two end nodes and two relay nodes. Nodes **20-1** and **20-20** are the **end nodes** and nodes **20-10** and **14-10** are intermediate **relay nodes**. End nodes **20-1** and **20-20** are **not neighboring nodes** and they don’t maintain direct links to each other. When end nodes want to communicate with each other, their packets pass **through relay nodes** and those respectively forward their packets to their final destination. Node 20-1 is our report node on which we will collect all our data. On the end node 20-20, we want to examine the incoming link paths from node 20-1.

![Topology](/blog/content/images/2016/10/topology.png)

During our reservation, we SSH into the testbed using your GENI wireless username and ssh key by typing: 

    ssh username@console.grid.orbit-lab.org
    
Once we are on the testbed console, we clone the experiment’s repository by the command:

    git clone https://cmanolidis@bitbucket.org/cmanolidis/batman-routing.git

When the repository has been cloned, we should load the disk images onto the nodes and turn those on. This can be done with the command:

    cd ~/batman-routing/ && bash loadImages.sh

This might take some time. When the script has finished, we should ensure that all 4 nodes have been successfully loaded and we got a message like the following.

```
----------------------------- 
Imaging Process Done 
4 nodes successfully imaged
-----------------------------
```

After we  have loaded and have turned the nodes on, we wait for some time for them to be accessible. Then we ensure that we can ssh on each of 4 nodes by the command `ssh -o "StrictHostKeyChecking no" root@nodeX-X` (**X-X** the corresponding **number of the node**) and type `ls`. (If you can not ssh to some node, follow the loading process again from the last step) We should see the following files on every node:

```
batctl-2016.2  batman-adv-2016.2  configure.sh  failure.sh  origTable20-20.sh  prepare.sh
```
Then, when we have validated that all the nodes have been loaded properly, we type `exit` and return in the grid’s main console. Last thing we have to do to form the mesh network, is to build and configure the loaded nodes. We give the command:

    cd ~/batman-routing/ && bash setUpNodes.sh

After the last command our network nodes have been configured and they form the mesh topology we want to test.

In this experiment we want to examine network links and their ranks depending on the BATMAN protocol evaluation. We also want to examine how the ranks and the network routing behaviour is affected when the conditions on those links change. To do this, we monitor the originator table of BATMAN protocol on nodes, over time.

Now that our network has been built and configured, we ssh in our report node 20-1:

    ssh -o "StrictHostKeyChecking no" root@node20-1

By giving the command `batctl o` we can see the **originator table** of this node. This table helps us understand which neighbor a packet is forwarded to, when the packet is received on the specified
interface. The originator table looks like the following table:

```
[B.A.T.M.A.N. adv 2016.2, MainIF/MAC: wlan0/00:15:6d:84:fe:be (bat0 BATMAN_IV)]
  Originator      last-seen (#/255)           Nexthop [outgoingIF]:   Potential nexthops ...
00:60:b3:25:c0:1b    0.532s   (198) 00:15:6d:84:fb:7d [     wlan0]: 00:15:6d:84:fb:7d (198) 00:15:6d:84:fb:77 (196)
00:15:6d:84:fb:7d    0.260s   (253) 00:15:6d:84:fb:7d [     wlan0]: 00:15:6d:84:fb:77 (196) 00:15:6d:84:fb:7d (253)
00:15:6d:84:fb:77    0.728s   (252) 00:15:6d:84:fb:77 [     wlan0]: 00:15:6d:84:fb:7d (198) 00:15:6d:84:fb:77 (252)
```

The originator table shows the link quality rank (#/255) of the MAC addresses of the nodes relative to the MAC address of the current node and the next hop chosen to the destination node at that time. 

In the following table you can see the corresponding MAC address of each node.

```
   NODE 	   MAC address      
node20-1	00:15:6d:84:fe:be
node20-20	00:60:b3:25:c0:1b
node20-10	00:15:6d:84:fb:7d
node14-10	00:15:6d:84:fb:77
```

We can see that the route from the current node (**node20-1**, 00:15:6d:84:fe:be) to **node20-20** (00:60:b3:25:c0:1b), uses **node20-10** (00:15:6d:84:fb:7d) as intermediate for its transmission and the **rank is 198**. We can also see that routes to 00:15:6d:84:fb:7d and 00:15:6d:84:fb:77 are **direct links** and no intermediate node is used for their transmission. Their respective ranks are 253 and 252.

For a better understanding of BATMAN routing we will examine various experiment scenarios.
We examine BATMAN routes from our **report node 20-1** to our **target node 20-20**. Nodes 20-1 and 20-20 **don’t have direct links** to each other and use intermediate nodes 20-10 and 14-10 for their communication. We examine how next hop decision and link quality are getting affected over time for a series of link conditions and failures.

On **node 20-1**, for real time monitoring of originator table link 00:60:b3:25:c0:1b (node 20-20) we use the script **`origTable20-20.sh`**.

At first we will see how wireless links behave under **no failures**. On **node 20-1** we run the script *origTable20-20.sh* (`bash origTable20-20.sh`). The script will start showing the entry of the originator table to 00:60:b3:25:c0:1b (node 20-20) and updating its value every sec. The output of the script will be something like this:

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.988s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.992s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.972s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.964s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.976s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.972s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.960s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.972s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.960s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.004s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.004s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.012s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.008s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.024s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.024s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.040s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.028s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.028s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (191)
```

(If we want to stop the script’s execution we can press `ctl+c`.)


Next, while the script *origTable20-20.sh* is still running on node 20-1, we ssh to the node which has highest rank from a second terminal console (in our case node 20-10). We run the script *faliure.sh* (`bash faliure.sh`). We notice that the ranks to this node will start to drop.

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.776s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (189)    
00:60:b3:25:c0:1b    0.776s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (188)    
00:60:b3:25:c0:1b    0.780s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (190)
00:60:b3:25:c0:1b    0.780s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.772s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.784s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.812s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.828s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (186)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    1.836s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (186)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.840s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (184)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.856s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (182)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.876s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (181)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.864s           (192)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (181)    00:15:6d:84:fb:77    (192)    
00:60:b3:25:c0:1b    0.892s           (193)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (180)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.908s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (179)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.924s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (177)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.936s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (173)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.924s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (171)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.924s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (171)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.936s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (171)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.952s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (172)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.964s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (172)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.956s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (170)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.000s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (165)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.024s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (164)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.016s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (163)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.012s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (160)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.016s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (159)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.020s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (155)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.040s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (151)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.064s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (151)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.056s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (150)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.068s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (148)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.052s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (146)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.048s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (146)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.048s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (141)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.044s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (139)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.044s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (136)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.052s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (133)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.072s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (133)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.096s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (131)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.112s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (130)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.124s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (130)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.108s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (127)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.116s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (119)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.132s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (118)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.160s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (114)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.144s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (114)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.172s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (112)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.168s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (110)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.188s           (193)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (107)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.208s           (192)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (105)    00:15:6d:84:fb:77    (192)    
00:60:b3:25:c0:1b    0.232s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (105)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.244s           (191)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (102)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.252s           (193)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (101)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.276s           (195)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (    99)    00:15:6d:84:fb:77    (195)
```

After some time, when the ranks of the link facing failures (node 20-10) have been stabilized, we stop the execution of the script. We wait for the ranks to recover.

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.576s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (102)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.596s           (197)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (104)    00:15:6d:84:fb:77    (197)    
00:60:b3:25:c0:1b    0.612s           (195)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (107)    00:15:6d:84:fb:77    (195)    
00:60:b3:25:c0:1b    0.612s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (111)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.632s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (118)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.636s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (120)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.632s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (126)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.628s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (129)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    0.648s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (135)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.652s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (136)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.660s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (136)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.664s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (141)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.688s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (148)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.704s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (151)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.704s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (151)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.708s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (156)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.700s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (161)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.708s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (162)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.704s           (198)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (166)    00:15:6d:84:fb:77    (198)    
00:60:b3:25:c0:1b    0.716s           (197)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (167)    00:15:6d:84:fb:77    (197)    
00:60:b3:25:c0:1b    0.724s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (170)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    0.724s           (195)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (171)    00:15:6d:84:fb:77    (195)    
00:60:b3:25:c0:1b    0.724s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (174)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.712s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (176)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.748s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (178)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.740s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (178)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.732s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (180)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.752s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (183)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.768s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (184)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.756s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (186)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.760s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (187)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.776s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.780s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.784s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.800s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.808s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.832s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (194)
00:60:b3:25:c0:1b    0.824s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (194)    
00:60:b3:25:c0:1b    0.820s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (193)
00:60:b3:25:c0:1b    0.844s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (191)
```

Next we repeat last steps for the other intermediate node (in our case node 14-10). First we introduce some link failures.

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.920s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    0.948s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    1.956s           (196)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (196)    
00:60:b3:25:c0:1b    0.976s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (195)    
00:60:b3:25:c0:1b    0.956s           (196)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (196)    00:15:6d:84:fb:77    (195)    
00:60:b3:25:c0:1b    0.976s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.968s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (193)    
00:60:b3:25:c0:1b    0.004s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.028s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (188)    
00:60:b3:25:c0:1b    0.040s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (189)    
00:60:b3:25:c0:1b    0.076s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (190)    
00:60:b3:25:c0:1b    0.068s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (188)    
00:60:b3:25:c0:1b    0.096s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (187)    
00:60:b3:25:c0:1b    0.088s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (186)    
00:60:b3:25:c0:1b    0.088s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (187)    
00:60:b3:25:c0:1b    0.088s           (187)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (187)    00:15:6d:84:fb:77    (185)    
00:60:b3:25:c0:1b    0.112s           (187)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (187)    00:15:6d:84:fb:77    (185)    
00:60:b3:25:c0:1b    0.152s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (182)    
00:60:b3:25:c0:1b    0.152s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (183)    
00:60:b3:25:c0:1b    0.184s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (180)    
00:60:b3:25:c0:1b    0.188s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (180)    
00:60:b3:25:c0:1b    0.192s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (176)    
00:60:b3:25:c0:1b    0.212s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (174)    
00:60:b3:25:c0:1b    0.232s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (172)    
00:60:b3:25:c0:1b    0.240s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (171)    
00:60:b3:25:c0:1b    0.252s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (170)    
00:60:b3:25:c0:1b    0.236s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (166)    
00:60:b3:25:c0:1b    0.252s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (166)    
00:60:b3:25:c0:1b    0.268s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (161)    
00:60:b3:25:c0:1b    0.264s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (162)    
00:60:b3:25:c0:1b    0.268s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (160)    
00:60:b3:25:c0:1b    0.300s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (158)    
00:60:b3:25:c0:1b    0.312s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (153)    
00:60:b3:25:c0:1b    0.288s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (153)    
00:60:b3:25:c0:1b    0.284s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (150)    
00:60:b3:25:c0:1b    0.272s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (150)    
00:60:b3:25:c0:1b    0.272s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (145)    
00:60:b3:25:c0:1b    0.300s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (145)    
00:60:b3:25:c0:1b    0.312s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (143)    
00:60:b3:25:c0:1b    0.320s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (142)    
00:60:b3:25:c0:1b    0.312s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (142)    
00:60:b3:25:c0:1b    0.332s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (137)    
00:60:b3:25:c0:1b    1.340s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (137)    
00:60:b3:25:c0:1b    0.340s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (133)    
00:60:b3:25:c0:1b    0.344s           (185)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (185)    00:15:6d:84:fb:77    (134)    
00:60:b3:25:c0:1b    0.356s           (185)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (185)    00:15:6d:84:fb:77    (134)    
00:60:b3:25:c0:1b    0.348s           (187)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (187)    00:15:6d:84:fb:77    (133)    
00:60:b3:25:c0:1b    0.360s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.368s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (130)    
00:60:b3:25:c0:1b    0.380s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.408s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.404s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.388s           (196)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (196)    00:15:6d:84:fb:77    (129)    
00:60:b3:25:c0:1b    0.416s           (197)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (197)    00:15:6d:84:fb:77    (129)    
00:60:b3:25:c0:1b    0.404s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (125)    
00:60:b3:25:c0:1b    0.396s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (125)    
00:60:b3:25:c0:1b    0.396s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (123)    
00:60:b3:25:c0:1b    0.388s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (122)    
00:60:b3:25:c0:1b    0.404s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (122)    
00:60:b3:25:c0:1b    0.400s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (122)    
00:60:b3:25:c0:1b    0.424s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (119)    
00:60:b3:25:c0:1b    0.436s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (119)    
00:60:b3:25:c0:1b    0.420s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (116)    
00:60:b3:25:c0:1b    0.452s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (116)    
00:60:b3:25:c0:1b    0.472s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (113)    
00:60:b3:25:c0:1b    0.492s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (111)    
00:60:b3:25:c0:1b    0.500s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (111)    
00:60:b3:25:c0:1b    0.512s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (108)    
00:60:b3:25:c0:1b    0.516s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (108)    
00:60:b3:25:c0:1b    0.540s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (104)    
00:60:b3:25:c0:1b    0.524s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.520s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.516s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.516s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.520s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (107)    
00:60:b3:25:c0:1b    0.540s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (106)    
00:60:b3:25:c0:1b    0.540s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (106)    
00:60:b3:25:c0:1b    0.536s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (104)    
00:60:b3:25:c0:1b    0.528s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (104)    
00:60:b3:25:c0:1b    0.520s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (103)    
00:60:b3:25:c0:1b    0.508s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (102)    
00:60:b3:25:c0:1b    0.520s           (198)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (198)    00:15:6d:84:fb:77    (103)
```

Finally, we stop the failure script in the intermediate node and watch the link of this node (node14-10 in our case) recover.

```
    Originator      last-seen      rank(#/255)         Nexthop         [outgoingIF]:    Potential nexthops ...
00:60:b3:25:c0:1b    0.152s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (102)    
00:60:b3:25:c0:1b    0.160s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (102)   
00:60:b3:25:c0:1b    0.152s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (102)    
00:60:b3:25:c0:1b    0.172s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (103)    
00:60:b3:25:c0:1b    0.176s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (105)    
00:60:b3:25:c0:1b    0.180s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (106)    
00:60:b3:25:c0:1b    0.184s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (109)    
00:60:b3:25:c0:1b    0.184s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (111)    
00:60:b3:25:c0:1b    0.172s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (114)    
00:60:b3:25:c0:1b    0.168s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (116)    
00:60:b3:25:c0:1b    0.164s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (118)    
00:60:b3:25:c0:1b    0.160s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (117)    
00:60:b3:25:c0:1b    0.152s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (117)    
00:60:b3:25:c0:1b    0.168s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (119)    
00:60:b3:25:c0:1b    0.192s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (122)    
00:60:b3:25:c0:1b    0.216s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (125)    
00:60:b3:25:c0:1b    0.212s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (128)    
00:60:b3:25:c0:1b    0.228s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (129)    
00:60:b3:25:c0:1b    0.220s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (130)    
00:60:b3:25:c0:1b    0.228s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (131)    
00:60:b3:25:c0:1b    0.232s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (133)    
00:60:b3:25:c0:1b    0.224s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (137)    
00:60:b3:25:c0:1b    0.240s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (143)    
00:60:b3:25:c0:1b    0.264s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (146)    
00:60:b3:25:c0:1b    0.288s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (148)    
00:60:b3:25:c0:1b    0.292s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (151)    
00:60:b3:25:c0:1b    0.304s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (153)    
00:60:b3:25:c0:1b    0.324s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (155)    
00:60:b3:25:c0:1b    0.340s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (156)    
00:60:b3:25:c0:1b    0.352s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (157)    
00:60:b3:25:c0:1b    0.340s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (158)    
00:60:b3:25:c0:1b    0.364s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (160)    
00:60:b3:25:c0:1b    0.368s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (161)    
00:60:b3:25:c0:1b    0.380s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (162)    
00:60:b3:25:c0:1b    0.400s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (163)    
00:60:b3:25:c0:1b    0.396s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (165)    
00:60:b3:25:c0:1b    0.400s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (165)    
00:60:b3:25:c0:1b    0.420s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (167)    
00:60:b3:25:c0:1b    0.440s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (169)    
00:60:b3:25:c0:1b    0.464s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (171)    
00:60:b3:25:c0:1b    0.484s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (172)    
00:60:b3:25:c0:1b    0.492s           (188)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (188)    00:15:6d:84:fb:77    (172)    
00:60:b3:25:c0:1b    0.512s           (189)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (189)    00:15:6d:84:fb:77    (174)    
00:60:b3:25:c0:1b    0.492s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (174)    
00:60:b3:25:c0:1b    0.488s           (190)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (190)    00:15:6d:84:fb:77    (176)    
00:60:b3:25:c0:1b    0.504s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (177)    
00:60:b3:25:c0:1b    0.508s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (177)    
00:60:b3:25:c0:1b    0.512s           (191)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (191)    00:15:6d:84:fb:77    (178)    
00:60:b3:25:c0:1b    0.528s           (192)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (192)    00:15:6d:84:fb:77    (178)    
00:60:b3:25:c0:1b    0.528s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (179)    
00:60:b3:25:c0:1b    0.532s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (180)    
00:60:b3:25:c0:1b    0.524s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (179)    
00:60:b3:25:c0:1b    0.512s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (178)    
00:60:b3:25:c0:1b    0.528s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (176)    
00:60:b3:25:c0:1b    0.512s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (177)    
00:60:b3:25:c0:1b    0.540s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (178)    
00:60:b3:25:c0:1b    0.544s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (184)    
00:60:b3:25:c0:1b    0.552s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (187)    
00:60:b3:25:c0:1b    0.564s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (187)    
00:60:b3:25:c0:1b    0.568s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (188)    
00:60:b3:25:c0:1b    0.584s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (189)    
00:60:b3:25:c0:1b    0.596s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (190)    
00:60:b3:25:c0:1b    0.604s           (194)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (194)    00:15:6d:84:fb:77    (190)    
00:60:b3:25:c0:1b    0.600s           (195)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (195)    00:15:6d:84:fb:77    (191)    
00:60:b3:25:c0:1b    0.616s           (193)       00:15:6d:84:fb:7d    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (192)    
00:60:b3:25:c0:1b    0.636s           (193)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (193)
00:60:b3:25:c0:1b    0.624s           (194)       00:15:6d:84:fb:77    [     wlan0]:    00:15:6d:84:fb:7d    (193)    00:15:6d:84:fb:77    (194)
```
